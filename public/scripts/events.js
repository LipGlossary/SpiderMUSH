// Generated by CoffeeScript 1.7.1
(function() {
  var socket, term;

  socket = io.connect();

  term = $.terminal.active();

  socket.on('connecting', function() {
    return console.log('connecting');
  });

  socket.on('connect', function() {
    return console.log('connect');
  });

  socket.on('disconnect', function() {
    return console.log('disconnect');
  });

  socket.on('reconnecting', function() {
    return console.log('reconnecting');
  });

  socket.on('reconnect', function() {
    return console.log('reconnect');
  });

  socket.on('connect_failed', function() {
    return console.log('connect_failed');
  });

  socket.on('reconnect_failed', function() {
    return console.log('reconnect_failed');
  });

  socket.on('error', function() {
    return console.log('error');
  });

  socket.on('anything', function(data, callback) {
    return console.log('anything: ' + data);
  });

  socket.on('message', function(message) {
    return term.echo(message);
  });

  socket.on('prompt', function(data) {
    term.echo(data.message);
    return term.push(function(input, term) {
      if (!data.args) {
        data.args = [];
      }
      data.args.push($.terminal.parseArguments(input)[0]);
      socket.emit(data.command, data.args);
      term.pop();
    }, {
      prompt: '? > '
    });
  });

  socket.on('create-char', function() {
    term.pause();
    return $('#create-char').css("visibility", "visible");
  });

  socket.on('edit-char', function(data) {
    term.pause();
    $('#edit-char-form input[name="name"]').val(data.name);
    $('#edit-char-form input[name="list"]').val(data.list);
    $('#edit-char-form textarea[name="look"]').val(data.look);
    $('#edit-char-form input[name="move"]').val(data.move);
    $('#edit-char-form input[name="appear"]').val(data.appear);
    return $('#edit-char').css("visibility", "visible");
  });

}).call(this);
